class BizonGallery{#a={title:null,images:[],callbacks:{onClose:null}};#b={};#c=null;#d=null;#e=null;#f=null;#g=0;constructor(e={}){if(this.#b={...this.#a,...e},!Array.isArray(this.#b.images)||0===this.#b.images.length){console.warn("BizonGallery: No images provided.");return}}show(){if(this.#b.images.length>1&&this.#b.images.some(e=>this.#h(e))){console.error("BizonGallery does not support multiple videos.");return}this.#i(),this.#j(this.#g),this.#k()}hide(){this.#l(),this.#c?.remove(),this.#b.callbacks?.onClose?.()}#h(e){return"video"===e?.type?.toLowerCase()||/\.(mp4|wmv|mpg|mpeg)$/i.test(e?.src)}#i(){this.#c=document.createElement("div"),this.#c.id="bizon-slider",this.#c.classList.add("prevent-select");let i=document.createElement("div");i.id="bizon-main-image",this.#d=document.createElement("div"),this.#d.id="bizon-main-image-wrapper",i.appendChild(this.#d);let t=document.createElement("div");t.id="bizon-thumbnails",this.#b.images.length>1&&this.#m(t),this.#c.append(i,t),document.body.appendChild(this.#c)}#m(s){this.#b.images.forEach((e,i)=>{let t=document.createElement(this.#h(e)?"video":"img");t.src=e.thumb||e.src,t.alt=e.caption||"",t.title=e.caption||"";let n=document.createElement("div");n.classList.add("bizon-thumb-wrapper"),n.dataset.index=i,0===i&&n.classList.add("bizon-thumb-wrapper-active"),n.appendChild(t),n.addEventListener("click",()=>this.#j(i)),s.appendChild(n)})}#j(n){if(n<0||n>=this.#b.images.length)return;this.#g=n;let a=this.#b.images[n];this.#d.innerHTML="";let r;this.#h(a)?Object.assign(r=document.createElement("video"),{src:a.src,autoplay:!0,playsInline:!0,loop:!0,controls:!0,controlsList:"nodownload",oncontextmenu:()=>!1}):(r=document.createElement("img")).src=a.src,r.alt=a.caption||"",r.title=a.caption||"",this.#d.appendChild(r),this.#n()}#n(){document.querySelectorAll(".bizon-thumb-wrapper-active").forEach(e=>e.classList.remove("bizon-thumb-wrapper-active"));let o=document.querySelector(`[data-index="${this.#g}"]`);o?.classList.add("bizon-thumb-wrapper-active")}#k(){document.addEventListener("keydown",this.#o)}#l(){document.removeEventListener("keydown",this.#o)}#o=e=>{"Escape"===e.key?this.hide():"ArrowLeft"===e.key?this.#j(this.#g-1):"ArrowRight"===e.key&&this.#j(this.#g+1)}}
