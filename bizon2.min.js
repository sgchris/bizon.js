class BizonGallery{#defaultOptions={title:null,images:[],callbacks:{onClose:null}};#options={};#bizonEl=null;#mainImageWrapper=null;#mainImageEl=null;#mainVideoEl=null;#currentImageIndex=0;constructor(e={}){this.#options={...this.#defaultOptions,...e},Array.isArray(this.#options.images)&&0!==this.#options.images.length||console.warn("BizonGallery: No images provided.")}show(){1<this.#options.images.length&&this.#options.images.some(e=>this.#isVideo(e))?console.error("BizonGallery does not support multiple videos."):(this.#createSlider(),this.#setMainImage(this.#currentImageIndex),this.#bindEvents())}hide(){this.#unbindEvents(),this.#bizonEl?.remove(),this.#options.callbacks?.onClose?.()}#isVideo(e){return"video"===e?.type?.toLowerCase()||/\.(mp4|wmv|mpg|mpeg)$/i.test(e?.src)}#createSlider(){this.#bizonEl=document.createElement("div"),this.#bizonEl.id="bizon-slider",this.#bizonEl.classList.add("prevent-select");var e=document.createElement("div"),i=(e.id="bizon-main-image",this.#mainImageWrapper=document.createElement("div"),this.#mainImageWrapper.id="bizon-main-image-wrapper",e.appendChild(this.#mainImageWrapper),e.addEventListener("click",e=>{var i;"bizon-main-image-wrapper"===e.target.id?this.hide():(i=e.target.getBoundingClientRect(),e.clientX>i.left+i.width/2?this.#setMainImage(this.#currentImageIndex+1):this.#setMainImage(this.#currentImageIndex-1))}),document.createElement("div"));i.id="bizon-thumbnails",1<this.#options.images.length&&this.#createThumbnails(i),this.#bizonEl.append(e,i),document.body.appendChild(this.#bizonEl)}#createThumbnails(n){this.#options.images.forEach((e,i)=>{var t=document.createElement(this.#isVideo(e)?"video":"img"),e=(t.src=e.thumb||e.src,t.alt=e.caption||"",t.title=e.caption||"",document.createElement("div"));e.classList.add("bizon-thumb-wrapper"),0===(e.dataset.index=i)&&e.classList.add("bizon-thumb-wrapper-active"),e.appendChild(t),e.addEventListener("click",()=>this.#setMainImage(i)),n.appendChild(e)})}#setMainImage(i){if(!(i<0||i>=this.#options.images.length)){this.#currentImageIndex=i;i=this.#options.images[i];this.#mainImageWrapper.innerHTML="";let e;this.#isVideo(i)?(e=document.createElement("video"),Object.assign(e,{src:i.src,autoplay:!0,playsInline:!0,loop:!0,controls:!0,controlsList:"nodownload",oncontextmenu:()=>!1})):(e=document.createElement("img")).src=i.src,e.alt=i.caption||"",e.title=i.caption||"",this.#mainImageWrapper.appendChild(e),this.#updateThumbnails()}}#updateThumbnails(){document.querySelectorAll(".bizon-thumb-wrapper-active").forEach(e=>e.classList.remove("bizon-thumb-wrapper-active")),document.querySelector(`[data-index="${this.#currentImageIndex}"]`)?.classList.add("bizon-thumb-wrapper-active")}#bindEvents(){document.addEventListener("keydown",this.#handleKeyDown)}#unbindEvents(){document.removeEventListener("keydown",this.#handleKeyDown)}#handleKeyDown=e=>{"Escape"===e.key?this.hide():"ArrowLeft"===e.key?this.#setMainImage(this.#currentImageIndex-1):"ArrowRight"===e.key&&this.#setMainImage(this.#currentImageIndex+1)}}